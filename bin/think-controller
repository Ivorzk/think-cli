#!/usr/bin/env node

const program = require('commander')
const chalk = require('chalk')

/**
 * Usage.
 */

program
  .usage('<controller-name> [module-name]')
  .option('-r, --rest', 'create rest controller')
  .parse(process.argv)

/*
  thinkjs controller c1 =>  home/controller/c1
  thinkjs controller c1 common => common/controller/c1
  thinkjs controller c1 home => home/controller/c1
  thinkjs controller c1 admin => admin/controller/c1
  thinkjs controller c1/c2 admin => admin/controller/c1/c2
*/

/**
 * Help.
 */

program.on('--help', function () {
  console.log()
  console.log('  Examples:')
  console.log()
  console.log(chalk.gray('    # create controller'))
  console.log('    $ thinkjs controller')
  console.log()
  console.log(chalk.gray('    # create rest controller'))
  console.log('    $ thinkjs controller -r')
  console.log()
})

if (program.args.length < 1) return program.help()

/**
 * Padding.
 */

console.log()
process.on('exit', function () {
  console.log()
})
